{"ast":null,"code":"import axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n// Tạo instance axios với URL cơ sở\nconst authAPI = axios.create({\n  baseURL: `${API_URL}/auth`,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Hàm đăng ký\nexport const register = async userData => {\n  const response = await authAPI.post('/register', userData);\n  if (response.data.token) {\n    localStorage.setItem('token', response.data.token);\n    localStorage.setItem('user', JSON.stringify(response.data.user));\n  }\n  return response.data;\n};\n\n// Hàm đăng nhập\nexport const login = async credentials => {\n  const response = await authAPI.post('/login', credentials);\n  if (response.data.token) {\n    localStorage.setItem('token', response.data.token);\n    localStorage.setItem('user', JSON.stringify(response.data.user));\n  }\n  return response.data;\n};\n\n// Hàm đăng xuất\nexport const logout = async () => {\n  const response = await authAPI.get('/logout');\n  localStorage.removeItem('token');\n  localStorage.removeItem('user');\n  return response.data;\n};\n\n// Hàm lấy thông tin người dùng hiện tại\nexport const getCurrentUser = async () => {\n  const token = localStorage.getItem('token');\n  if (!token) return null;\n  const response = await authAPI.get('/me', {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return response.data;\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","authAPI","create","baseURL","headers","register","userData","response","post","data","token","localStorage","setItem","JSON","stringify","user","login","credentials","logout","get","removeItem","getCurrentUser","getItem","Authorization"],"sources":["D:/TTCS/Frontend/src/api/authApi.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n// Tạo instance axios với URL cơ sở\r\nconst authAPI = axios.create({\r\n  baseURL: `${API_URL}/auth`,\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\n// Hàm đăng ký\r\nexport const register = async (userData) => {\r\n  const response = await authAPI.post('/register', userData, );\r\n  if (response.data.token) {\r\n    localStorage.setItem('token', response.data.token);\r\n    localStorage.setItem('user', JSON.stringify(response.data.user));\r\n  }\r\n  return response.data;\r\n};\r\n\r\n// Hàm đăng nhập\r\nexport const login = async (credentials) => {\r\n  const response = await authAPI.post('/login', credentials);\r\n  if (response.data.token) {\r\n    localStorage.setItem('token', response.data.token);\r\n    localStorage.setItem('user', JSON.stringify(response.data.user));\r\n  }\r\n  return response.data;\r\n};\r\n\r\n// Hàm đăng xuất\r\nexport const logout = async () => {\r\n  const response = await authAPI.get('/logout');\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('user');\r\n  return response.data;\r\n};\r\n\r\n// Hàm lấy thông tin người dùng hiện tại\r\nexport const getCurrentUser = async () => {\r\n  const token = localStorage.getItem('token');\r\n  if (!token) return null;\r\n  \r\n  const response = await authAPI.get('/me', {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  });\r\n  return response.data;\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;;AAE5E;AACA,MAAMC,OAAO,GAAGL,KAAK,CAACM,MAAM,CAAC;EAC3BC,OAAO,EAAE,GAAGN,OAAO,OAAO;EAC1BO,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMC,QAAQ,GAAG,MAAOC,QAAQ,IAAK;EAC1C,MAAMC,QAAQ,GAAG,MAAMN,OAAO,CAACO,IAAI,CAAC,WAAW,EAAEF,QAAU,CAAC;EAC5D,IAAIC,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;IACvBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;IAClDC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACE,IAAI,CAACM,IAAI,CAAC,CAAC;EAClE;EACA,OAAOR,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMO,KAAK,GAAG,MAAOC,WAAW,IAAK;EAC1C,MAAMV,QAAQ,GAAG,MAAMN,OAAO,CAACO,IAAI,CAAC,QAAQ,EAAES,WAAW,CAAC;EAC1D,IAAIV,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;IACvBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;IAClDC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACE,IAAI,CAACM,IAAI,CAAC,CAAC;EAClE;EACA,OAAOR,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMS,MAAM,GAAG,MAAAA,CAAA,KAAY;EAChC,MAAMX,QAAQ,GAAG,MAAMN,OAAO,CAACkB,GAAG,CAAC,SAAS,CAAC;EAC7CR,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;EAChCT,YAAY,CAACS,UAAU,CAAC,MAAM,CAAC;EAC/B,OAAOb,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMY,cAAc,GAAG,MAAAA,CAAA,KAAY;EACxC,MAAMX,KAAK,GAAGC,YAAY,CAACW,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAI,CAACZ,KAAK,EAAE,OAAO,IAAI;EAEvB,MAAMH,QAAQ,GAAG,MAAMN,OAAO,CAACkB,GAAG,CAAC,KAAK,EAAE;IACxCf,OAAO,EAAE;MACPmB,aAAa,EAAE,UAAUb,KAAK;IAChC;EACF,CAAC,CAAC;EACF,OAAOH,QAAQ,CAACE,IAAI;AACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}